{"version":3,"sources":["px-vis-bar-chart.es6.js"],"names":["behaviours","PxVisBehavior","observerCheck","baseSize","margins","dataset","completeSeriesConfig","muteUnmuteSeries","tooltipData","extentsData","commonMethods","zoomSelection","chartExtents","dataExtents","events","PxVisBehaviorD3","svg","svgLower","axes","clipPath","PxVisBehaviorChart","chartCommon","saveImage","domainUpdate","subConfiguration","registerConfigs","axisConfigs","registerPositioning","chartAutoResize","thresholds","layers","navigatorConfig","dynamicMenuConfig","PxColorsBehavior","dataVisColorTheming","axisTypes","PxVisBehaviorScale","scale","actionConfig","zooming","actionRequest","toolbarSubConfig","noDebounceOnPanning","chartToolbarConfig","showTooltip","thresholdConfig","selectionType","webWorkerSynchronization","Polymer","AppLocalizeBehavior","updateStylesOverride","annotationData","cursorConfig","registerPagnation","PxVisBarChart","preventWebWorkerSynchronization","set","chartData","_seriesKeys","stack","Px","d3","keys","chartType","hasUndefinedArguments","arguments","length","type","String","value","_stackedChartData","Array","computed","xAxisLocation","yAxisLocation","startFromZero","Boolean","mixinBehaviors","Element","window","customElements","define","is"],"mappings":"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","file":"px-vis-bar-chart.js","sourcesContent":["const behaviours = [\n  PxVisBehavior.observerCheck,\n  PxVisBehavior.baseSize,\n  PxVisBehavior.margins,\n  PxVisBehavior.dataset,\n  PxVisBehavior.completeSeriesConfig,\n  PxVisBehavior.muteUnmuteSeries,\n  PxVisBehavior.tooltipData,\n  PxVisBehavior.extentsData,\n  PxVisBehavior.commonMethods,\n  PxVisBehavior.zoomSelection,\n  PxVisBehavior.chartExtents,\n  PxVisBehavior.dataExtents,\n  PxVisBehavior.events,\n  PxVisBehaviorD3.svg,\n  PxVisBehaviorD3.svgLower,\n  PxVisBehaviorD3.axes,\n  PxVisBehaviorD3.clipPath,\n  PxVisBehaviorChart.chartCommon,\n  PxVisBehaviorChart.saveImage,\n  PxVisBehaviorD3.domainUpdate,\n  PxVisBehaviorChart.subConfiguration,\n  PxVisBehaviorChart.registerConfigs,\n  PxVisBehaviorChart.axisConfigs,\n  PxVisBehaviorChart.registerPositioning,\n  PxVisBehaviorChart.chartAutoResize,\n  PxVisBehavior.thresholds,\n  PxVisBehaviorChart.layers,\n  PxVisBehaviorChart.navigatorConfig,\n  PxVisBehavior.dynamicMenuConfig,\n  PxColorsBehavior.dataVisColorTheming,\n  PxVisBehavior.axisTypes,\n  PxVisBehaviorScale.scale,\n  PxVisBehavior.actionConfig,\n  PxVisBehaviorChart.zooming,\n  PxVisBehaviorChart.actionRequest,\n  PxVisBehaviorChart.toolbarSubConfig,\n  PxVisBehaviorChart.noDebounceOnPanning,\n  PxVisBehaviorChart.chartToolbarConfig,\n  PxVisBehaviorChart.showTooltip,\n  // PxVisBehaviorChart.sizeVerticalRegister,\n  // PxVisBehaviorChart.tooltipFollowMouseCalculation,\n  PxVisBehaviorChart.thresholdConfig,\n  PxVisBehavior.selectionType,\n  PxVisBehaviorChart.webWorkerSynchronization,\n  Polymer.AppLocalizeBehavior,\n  PxVisBehavior.updateStylesOverride,\n  PxVisBehavior.annotationData,\n  PxVisBehaviorChart.cursorConfig,\n  PxVisBehaviorChart.registerPagnation\n];\n\nclass PxVisBarChart extends Polymer.mixinBehaviors(behaviours, Polymer.Element) {\n  static get is() { return 'px-vis-bar-chart'; }\n\n  static get properties() {\n    return {\n      /**\n      * Specfies what type of bar chart:\n      * - `bar`\n      * - `horizontal`\n      */\n      chartType: {\n        type: String,\n        value: 'column'\n      },\n\n      _stackedChartData: {\n        type: Array,\n        computed: '_returnStack(chartData.*, _seriesKeys.*)'\n      },\n\n      /**\n       * Defines where to locate the X-axis.\n       * - `bottom`\n       * - `top`\n       *\n       */\n      xAxisLocation: {\n        type:String,\n        value:'bottom'\n      },\n      /**\n       * Defines where to locate the Y-axis.\n       * - `left`\n       * - `right`\n       *\n       */\n      yAxisLocation: {\n        type: String,\n        value:'left'\n      },\n\n      /**\n       * DO NOT CHANGE THIS UNLESS YOU KNOW WHAT YOU ARE DOING\n       *\n       * Bar charts in nearly all cases should start from 0. If you have a special case and understand the ramifications, change this to false to allow it to use the `min` value from your data\n       */\n      startFromZero: {\n        type: Boolean,\n        value: true\n      }\n\n    };\n  }\n\n  static get observers() {\n    return [\n      '_setAxisTypes(chartType)',\n      '_setXScale(width, margin, xAxisType)',\n      '_setYScale(height, margin, yAxisType)',\n      '_setDomain(_chartDataHasChanged, x, y, completeSeriesConfig, dataExtents)',\n      '_setDomain(chartExtents, dataExtents)',\n      '_updateDomain(selectedDomain)',\n      '_chartDataChanged(chartData.*)'\n    ];\n  }\n\n  ready() {\n    super.ready();\n    this.preventWebWorkerSynchronization = true;\n    this.set('numberOfLayers', 4);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n  }\n\n  _returnStack() {\n    if(this.chartData && this._seriesKeys) {\n      var stack = Px.d3.stack();\n\n      stack.keys(this._seriesKeys);\n      return stack(this.chartData);\n    }\n  }\n\n  _setAxisTypes(chartType) {\n    switch(chartType) {\n      case 'bar':\n        this.set('xAxisType', \"linear\");\n        this.set('yAxisType', \"scaleBand\");\n        break;\n\n      default:  //column\n        this.set('xAxisType', \"scaleBand\");\n        this.set('yAxisType', \"linear\");\n        break;\n    }\n  }\n\n  _getXKey() {\n    if(this.hasUndefinedArguments(arguments)) {\n      return;\n    }\n\n    if(this._seriesKeys && this._seriesKeys.length) {\n      return this.completeSeriesConfig[this._seriesKeys[0]]['x'];\n    } else {\n      return '';\n    }\n  }\n\n\n}\n\nwindow.customElements.define(PxVisBarChart.is, PxVisBarChart);"]}